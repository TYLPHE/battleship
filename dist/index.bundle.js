(()=>{function e(e){return{length:e,hit:0,sunk:!1,orientation:"v",position:[]}}const t={p1:{carrier:e(5),battleship:e(4),cruiser:e(3),submarine:e(3),destroyer:e(2)},p2:{carrier:e(5),battleship:e(4),cruiser:e(3),submarine:e(3),destroyer:e(2)}};function n(e){const t=e.id.substring(0,1),n=document.querySelectorAll(`.ocean.${t}`);for(let e=0;e<n.length;e+=1)n[e].style.backgroundColor="#90ee9050";const o=e.id.slice(1),r=document.querySelectorAll(`.ocean.${o}`);for(let e=0;e<r.length;e+=1)r[e].style.backgroundColor="#90ee9050"}function o(){const e=document.querySelectorAll(".ocean.square");for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}function r(e,n){const o=e.substring(0,e.length-2),r=e.slice(-1),c=t.p1[o].length,i=s(n.id.substring(1)),u=n.id.substring(0,1),d=c-r;if("v"===t.p1[o].orientation){for(let e=0;e<=d;e+=1){const t=l(u)+e,n=l(t),o=s(i),r=document.querySelector(`.${n}${o}.ocean`);r&&(r.style.backgroundColor="green")}for(let e=0;e<r;e+=1){const t=l(u)-e,n=l(t),o=s(i),r=document.querySelector(`.${n}${o}.ocean`);r&&(r.style.backgroundColor="green")}}if("h"===t.p1[o].orientation){for(let e=0;e<=d;e+=1){const t=s(i+e),n=document.querySelector(`.${u}${t}.ocean`);n&&(n.style.backgroundColor="green")}for(let e=0;e<r;e+=1){const t=s(i-e),n=document.querySelector(`.${u}${t}.ocean`);n&&(n.style.backgroundColor="green")}}}function l(e){const t=[["a",1],["b",2],["c",3],["d",4],["e",5],["f",6],["g",7],["h",8],["i",9],["j",10]];for(const[n,o]of t){if("string"==typeof e&&e===n)return o;if("number"==typeof e&&e===o)return n}}function s(e){const t={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10};for(let n in t){if("string"==typeof e&&e===n)return t[n];if("number"==typeof e&&e===t[n])return n}}function c(e){const t=document.querySelectorAll(".ocean");for(let n=0;n<t.length;n+=1)"green"===t[n].style.backgroundColor&&i(e,t[n].id)}function i(e,n){t.p1[e].position.push(n),console.log(t.p1[e])}function u(e,t){function n(e,n){t.style.left=e-t.offsetWidth/2+"px",t.style.top=n-t.offsetHeight/2+"px"}function o(e){n(e.pageX,e.pageY)}t.style.position="absolute",t.style.margin=0,document.body.append(t),n(e.pageX,e.pageY),document.addEventListener("mousemove",o),t.onmouseup=function(){document.removeEventListener("mousemove",o),t.onmouseup=null}}!function({p1:e}){for(const t in e){const n=document.createElement("div");n.classList.add(t);for(let o=1;o<=e[t].length;o+=1){const e=document.createElement("div");e.classList.add("ship-square"),e.id=`${t}-${o}`,e.textContent=" ",n.appendChild(e)}const o=document.querySelector(".ship-storage-left"),r=document.querySelector(".ship-storage-right");"battleship"===n.className||"cruiser"===n.className||"destroyer"===n.className?o.appendChild(n):r.appendChild(n)}}(t),function(){const e=document.querySelectorAll(".target.square");for(let t=0;t<e.length;t+=1)if(e[t].id){const n=e[t].id.slice(1);e[t].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.target.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),e[t].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.target.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}));const o=e[t].id.substring(0,1);e[t].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.target.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),e[t].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.target.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}))}const t=document.querySelectorAll(".ocean.square");for(let e=0;e<t.length;e+=1)if(t[e].id){const n=t[e].id.slice(1);t[e].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.ocean.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),t[e].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.ocean.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}));const o=t[e].id.substring(0,1);t[e].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.ocean.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),t[e].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.ocean.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}))}}(),function({p1:e}){for(const l in e){const e=document.querySelector(`.${l}`);e.onmousedown=function(l){let s,i;for(const e in t.p1){let t=l.target.id;e===t.substring(0,t.length-2)&&(s=t,i=t.substring(0,t.length-2))}t.p1[i].position=[];let u=!1,d=l.clientX-e.getBoundingClientRect().left,a=l.clientY-e.getBoundingClientRect().top;function g(t,n){e.style.left=t-d+"px",e.style.top=n-a+"px"}function p(l){u=!0,g(l.pageX,l.pageY),e.style.display="none";let c=document.elementFromPoint(l.clientX,l.clientY),d="";if(c.id&&c.classList.contains("ocean")&&(!d||c.id!==d)){d=c.id,o(),n(c);for(const e in t.p1)e===i&&r(s,c)}for(const n in t.p1)if(i===n)return"v"===t.p1[i].orientation?e.style.display="initial":e.style.display="flex"}document.body.append(e),g(l.pageX,l.pageY),document.addEventListener("mousemove",p),e.onmouseup=function(){if(!u){const n=l.target.parentNode.classList[0];document.querySelector(`.${n}`).classList.toggle("horizontal");for(const o in t.p1)o===n&&("v"===t.p1[n].orientation?(t.p1[n].orientation="h",e.style.display="flex"):(t.p1[n].orientation="v",e.style.display="initial"))}c(i),o(),document.removeEventListener("mousemove",p),u=!1,e.onmouseup=null}},e.ondragstart=function(){return!1}}}(t),function(){const e=document.querySelector(".white-peg-cont");for(let t=0;t<166;t+=1){const t=document.createElement("div");t.classList.add("white-peg"),t.textContent=" ",t.addEventListener("mousedown",(e=>u(e,t))),e.appendChild(t)}const t=document.querySelector(".red-peg-cont");for(let e=0;e<34;e+=1){const e=document.createElement("div");e.classList.add("red-peg"),e.textContent=" ",e.addEventListener("mousedown",(t=>u(t,e))),t.appendChild(e)}}()})();