(()=>{function e(e){return{length:e,hit:0,sunk:!1,orientation:"v",position:[]}}const t={p1:{carrier:e(5),battleship:e(4),cruiser:e(3),submarine:e(3),destroyer:e(2)},p2:{carrier:e(5),battleship:e(4),cruiser:e(3),submarine:e(3),destroyer:e(2)}};function o(e){const t=e.id.substring(0,1),o=document.querySelectorAll(`.ocean.${t}`);for(let e=0;e<o.length;e+=1)o[e].style.backgroundColor="#90ee9050";const n=e.id.slice(1),r=document.querySelectorAll(`.ocean.${n}`);for(let e=0;e<r.length;e+=1)r[e].style.backgroundColor="#90ee9050"}function n(){const e=document.querySelectorAll(".ocean.square");for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}function r(e,o){const n=e.substring(0,e.length-2),r=e.slice(-1),c=t.p1[n].length,i=s(o.id.substring(1)),u=o.id.substring(0,1),a=c-r;if("v"===t.p1[n].orientation){for(let e=0;e<=a;e+=1){const t=l(u)+e,o=l(t),n=s(i),r=document.querySelector(`.${o}${n}.ocean`);r&&(r.style.backgroundColor="green")}for(let e=0;e<r;e+=1){const t=l(u)-e,o=l(t),n=s(i),r=document.querySelector(`.${o}${n}.ocean`);r&&(r.style.backgroundColor="green")}}if("h"===t.p1[n].orientation){for(let e=0;e<=a;e+=1){const t=s(i+e),o=document.querySelector(`.${u}${t}.ocean`);o&&(o.style.backgroundColor="green")}for(let e=0;e<r;e+=1){const t=s(i-e),o=document.querySelector(`.${u}${t}.ocean`);o&&(o.style.backgroundColor="green")}}}function l(e){const t=[["a",1],["b",2],["c",3],["d",4],["e",5],["f",6],["g",7],["h",8],["i",9],["j",10]];for(const[o,n]of t){if("string"==typeof e&&e===o)return n;if("number"==typeof e&&e===n)return o}}function s(e){const t={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10};for(let o in t){if("string"==typeof e&&e===o)return t[o];if("number"==typeof e&&e===t[o])return o}}function c(e){const t=document.querySelectorAll(".ocean");for(let o=0;o<t.length;o+=1)"green"===t[o].style.backgroundColor&&i(e,t[o].id)}function i(e,o){t.p1[e].position.push(o),console.log(t.p1[e])}!function({p1:e}){for(const t in e){const o=document.createElement("div");o.classList.add(t);for(let n=1;n<=e[t].length;n+=1){const e=document.createElement("div");e.classList.add("ship-square"),e.id=`${t}-${n}`,e.textContent=" ",o.appendChild(e)}const n=document.querySelector(".ship-storage-left"),r=document.querySelector(".ship-storage-right");"battleship"===o.className||"cruiser"===o.className||"destroyer"===o.className?n.appendChild(o):r.appendChild(o)}}(t),function(){const e=document.querySelectorAll(".target.square");for(let t=0;t<e.length;t+=1)if(e[t].id){const o=e[t].id.slice(1);e[t].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.target.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),e[t].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.target.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}));const n=e[t].id.substring(0,1);e[t].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.target.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),e[t].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.target.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}))}const t=document.querySelectorAll(".ocean.square");for(let e=0;e<t.length;e+=1)if(t[e].id){const o=t[e].id.slice(1);t[e].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.ocean.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),t[e].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.ocean.${o}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}));const n=t[e].id.substring(0,1);t[e].addEventListener("mouseover",(()=>{const e=document.querySelectorAll(`.ocean.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="#90ee9050"})),t[e].addEventListener("mouseout",(()=>{const e=document.querySelectorAll(`.ocean.${n}`);for(let t=0;t<e.length;t+=1)e[t].style.backgroundColor="transparent"}))}}(),function({p1:e}){for(const l in e){const e=document.querySelector(`.${l}`);e.onmousedown=function(l){let s,i;for(const e in t.p1)e===l.target.id.substring(0,l.target.id.length-2)&&(s=l.target.id,i=l.target.id.substring(0,l.target.id.length-2));t.p1[i].position=[];let u=!1,a=l.clientX-e.getBoundingClientRect().left,d=l.clientY-e.getBoundingClientRect().top;function g(t,o){e.style.left=t-a+"px",e.style.top=o-d+"px"}function f(l){u=!0,g(l.pageX,l.pageY),e.style.display="none";let c=document.elementFromPoint(l.clientX,l.clientY),a="";if(c.id&&c.classList.contains("ocean")&&(!a||c.id!==a)){a=c.id,n(),o(c);for(const e in t.p1)e===i&&r(s,c)}for(const o in t.p1)if(i===o)return"v"===t.p1[i].orientation?e.style.display="initial":e.style.display="flex"}document.body.append(e),g(l.pageX,l.pageY),document.addEventListener("mousemove",f),e.onmouseup=function(){if(!u){const o=l.target.parentNode.classList[0];document.querySelector(`.${o}`).classList.toggle("horizontal");for(const n in t.p1)n===o&&("v"===t.p1[o].orientation?(t.p1[o].orientation="h",e.style.display="flex"):(t.p1[o].orientation="v",e.style.display="initial"))}c(i),n(),document.removeEventListener("mousemove",f),u=!1,e.onmouseup=null}},e.ondragstart=function(){return!1}}}(t)})();